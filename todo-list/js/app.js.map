{"version":3,"sources":["modernizr-touch.js","todoModal.js","todoView.js","todoController.js","appInit.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACzRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"app.js","sourcesContent":["\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\n/*! modernizr 3.6.0 (Custom Build) | MIT *\n * https://modernizr.com/download/?-touchevents-setclasses !*/\n!function (e, n, t) {\n  function o(e) {\n    var n = u.className,\n        t = Modernizr._config.classPrefix || \"\";\n\n    if (p && (n = n.baseVal), Modernizr._config.enableJSClass) {\n      var o = new RegExp(\"(^|\\\\s)\" + t + \"no-js(\\\\s|$)\");\n      n = n.replace(o, \"$1\" + t + \"js$2\");\n    }\n\n    Modernizr._config.enableClasses && (n += \" \" + t + e.join(\" \" + t), p ? u.className.baseVal = n : u.className = n);\n  }\n\n  function s(e, n) {\n    return _typeof(e) === n;\n  }\n\n  function a() {\n    var e, n, t, o, a, i, r;\n\n    for (var l in c) {\n      if (c.hasOwnProperty(l)) {\n        if (e = [], n = c[l], n.name && (e.push(n.name.toLowerCase()), n.options && n.options.aliases && n.options.aliases.length)) for (t = 0; t < n.options.aliases.length; t++) {\n          e.push(n.options.aliases[t].toLowerCase());\n        }\n\n        for (o = s(n.fn, \"function\") ? n.fn() : n.fn, a = 0; a < e.length; a++) {\n          i = e[a], r = i.split(\".\"), 1 === r.length ? Modernizr[r[0]] = o : (!Modernizr[r[0]] || Modernizr[r[0]] instanceof Boolean || (Modernizr[r[0]] = new Boolean(Modernizr[r[0]])), Modernizr[r[0]][r[1]] = o), f.push((o ? \"\" : \"no-\") + r.join(\"-\"));\n        }\n      }\n    }\n  }\n\n  function i() {\n    return \"function\" != typeof n.createElement ? n.createElement(arguments[0]) : p ? n.createElementNS.call(n, \"http://www.w3.org/2000/svg\", arguments[0]) : n.createElement.apply(n, arguments);\n  }\n\n  function r() {\n    var e = n.body;\n    return e || (e = i(p ? \"svg\" : \"body\"), e.fake = !0), e;\n  }\n\n  function l(e, t, o, s) {\n    var a,\n        l,\n        f,\n        c,\n        d = \"modernizr\",\n        p = i(\"div\"),\n        h = r();\n    if (parseInt(o, 10)) for (; o--;) {\n      f = i(\"div\"), f.id = s ? s[o] : d + (o + 1), p.appendChild(f);\n    }\n    return a = i(\"style\"), a.type = \"text/css\", a.id = \"s\" + d, (h.fake ? h : p).appendChild(a), h.appendChild(p), a.styleSheet ? a.styleSheet.cssText = e : a.appendChild(n.createTextNode(e)), p.id = d, h.fake && (h.style.background = \"\", h.style.overflow = \"hidden\", c = u.style.overflow, u.style.overflow = \"hidden\", u.appendChild(h)), l = t(p, e), h.fake ? (h.parentNode.removeChild(h), u.style.overflow = c, u.offsetHeight) : p.parentNode.removeChild(p), !!l;\n  }\n\n  var f = [],\n      c = [],\n      d = {\n    _version: \"3.6.0\",\n    _config: {\n      classPrefix: \"\",\n      enableClasses: !0,\n      enableJSClass: !0,\n      usePrefixes: !0\n    },\n    _q: [],\n    on: function on(e, n) {\n      var t = this;\n      setTimeout(function () {\n        n(t[e]);\n      }, 0);\n    },\n    addTest: function addTest(e, n, t) {\n      c.push({\n        name: e,\n        fn: n,\n        options: t\n      });\n    },\n    addAsyncTest: function addAsyncTest(e) {\n      c.push({\n        name: null,\n        fn: e\n      });\n    }\n  },\n      Modernizr = function Modernizr() {};\n\n  Modernizr.prototype = d, Modernizr = new Modernizr();\n  var u = n.documentElement,\n      p = \"svg\" === u.nodeName.toLowerCase(),\n      h = d._config.usePrefixes ? \" -webkit- -moz- -o- -ms- \".split(\" \") : [\"\", \"\"];\n  d._prefixes = h;\n  var m = d.testStyles = l;\n  Modernizr.addTest(\"touchevents\", function () {\n    var t;\n    if (\"ontouchstart\" in e || e.DocumentTouch && n instanceof DocumentTouch) t = !0;else {\n      var o = [\"@media (\", h.join(\"touch-enabled),(\"), \"heartz\", \")\", \"{#modernizr{top:9px;position:absolute}}\"].join(\"\");\n      m(o, function (e) {\n        t = 9 === e.offsetTop;\n      });\n    }\n    return t;\n  }), a(), o(f), delete d.addTest, delete d.addAsyncTest;\n\n  for (var v = 0; v < Modernizr._q.length; v++) {\n    Modernizr._q[v]();\n  }\n\n  e.Modernizr = Modernizr;\n}(window, document);","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar ListModal =\n/*#__PURE__*/\nfunction () {\n  function ListModal() {\n    _classCallCheck(this, ListModal);\n\n    this.states = {\n      main: false,\n      modal: false\n    };\n  }\n\n  _createClass(ListModal, [{\n    key: \"getKey\",\n    value: function getKey() {\n      return this.key = 'fcec3450dbf00eb6e012fa3766c6d11d';\n    }\n  }, {\n    key: \"setState\",\n    value: function setState(bind, what) {\n      bind === 'main' && (this.states.main = what);\n      bind === 'modal' && (this.states.modal = what);\n    }\n  }, {\n    key: \"getState\",\n    value: function getState(bind) {\n      if (bind === 'main') return this.states.main;\n      if (bind === 'modal') return this.states.modal;\n    }\n  }, {\n    key: \"getCoords\",\n    value: function getCoords() {\n      this.weatherHistory = {};\n      this.weathersArray = [];\n      fetch('https://get.geojs.io/v1/ip/geo.json').then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        var coords = {\n          latitude: response.latitude,\n          longitude: response.longitude\n        };\n        localStorage.coords = JSON.stringify(coords);\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }, {\n    key: \"getWeather\",\n    value: function getWeather(target, weatherList, modal) {\n      var _this = this;\n\n      var coords = JSON.parse(localStorage.coords);\n      fetch(\"http://api.openweathermap.org/data/2.5/forecast?lat=\".concat(coords.latitude, \"&lon=\").concat(coords.longitude, \"&APPID=\").concat(this.getKey())).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        _this.weatherHistory = {};\n        response.list.forEach(function (element) {\n          var date = element.dt_txt.split(' ')[0].split('-').reverse().join().replace(/\\,/g, '.');\n          var time = element.dt_txt.split(' ')[1].slice(0, 5);\n\n          if (date === target.dataset.date) {\n            _this.weatherHistory[\"\".concat(time)] = \"<span class ='important'>\".concat(Math.floor(element.main.temp - 273.15), \" C\\xB0</span>\");\n          }\n        });\n      }).then(function () {\n        _this.weathersArray = [];\n\n        for (var key in _this.weatherHistory) {\n          if (_this.weatherHistory != {}) {\n            var weatherView = document.createElement('li');\n            weatherView.classList.add('weather');\n            weatherView.innerHTML = \"\".concat(key, \" : \").concat(_this.weatherHistory[key]);\n\n            _this.weathersArray.push(weatherView);\n\n            weatherList.appendChild(weatherView);\n          }\n        }\n\n        _this.weathersArray.length <= 1 && weatherList.classList.add('ResetCount');\n        Todo.checkEmpty(modal);\n        Todo.spinnerHide();\n        return true;\n      }).catch(function (error) {\n        console.log(error);\n      });\n    }\n  }]);\n\n  return ListModal;\n}();\n\nvar Loader =\n/*#__PURE__*/\nfunction () {\n  function Loader() {\n    _classCallCheck(this, Loader);\n\n    this.image = [];\n  }\n\n  _createClass(Loader, [{\n    key: \"loading\",\n    value: function loading(type, srcFile, css) {\n      if (type === 'image') {\n        var image = new Image();\n        image.src = srcFile;\n        image.classList.add(css);\n        this.image.push(image);\n      }\n    }\n  }]);\n\n  return Loader;\n}();\n\nvar Storage =\n/*#__PURE__*/\nfunction () {\n  function Storage() {\n    _classCallCheck(this, Storage);\n\n    this.arrayList = [];\n    this.lists = [];\n    this.dateArray = [];\n    this.buffer = [];\n    this.number = 0;\n  }\n\n  _createClass(Storage, [{\n    key: \"updateStorage\",\n    value: function updateStorage(list, num) {\n      var newList = list.filter(function (v) {\n        return v.uniqueId != num;\n      });\n      newList.forEach(function (e) {\n        return e.value > 0 && (e.value = e.value - 1);\n      });\n      localStorage.list = JSON.stringify(newList);\n      return true;\n    }\n  }, {\n    key: \"localeStorageUpdate\",\n    value: function localeStorageUpdate(btnValue) {\n      localStorage.setItem('newTodo', btnValue);\n      var todo = new todoOne(localStorage.newTodo);\n      todo.save = true;\n      localStorage.list && (this.lists = JSON.parse(localStorage.list));\n      this.lists.push(todo);\n      localStorage.list = JSON.stringify(this.lists, null, '\\t');\n      return this.number;\n    }\n  }, {\n    key: \"dataParser\",\n    value: function dataParser() {\n      var target = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      localStorage.date && (this.buffer = JSON.parse(localStorage.date));\n      var valueButton = target.previousSibling.value.slice(0, 10).split('-').reverse().join().replace(/\\,/g, '.');\n      !localStorage.date && (localStorage.date = JSON.stringify([valueButton]));\n      localStorage.date && this.buffer.push(valueButton);\n      localStorage.date && (localStorage.date = JSON.stringify(this.buffer));\n    }\n  }]);\n\n  return Storage;\n}();\n\nvar todoOne =\n/*#__PURE__*/\nfunction () {\n  function todoOne() {\n    var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n\n    _classCallCheck(this, todoOne);\n\n    this.changeNote = false;\n    this.save = false;\n    this.uniqueId = \"id\".concat(Math.floor((Math.random() + 5 - 5).toFixed(7) * 10000000));\n    this.note = 'click for add note';\n    this.value = value;\n  }\n\n  _createClass(todoOne, [{\n    key: \"updateChangeNote\",\n    value: function updateChangeNote(item) {\n      item.changeNote && (item.changeNote = false);\n    }\n  }]);\n\n  return todoOne;\n}();\n\nvar Calendar =\n/*#__PURE__*/\nfunction () {\n  function Calendar() {\n    _classCallCheck(this, Calendar);\n\n    this.todayYear = new Date().getFullYear();\n    this.todayMonth = new Date().getMonth();\n    this.totalDay = null;\n    this.dateWeek = ['Mon', 'Tue', 'Wed', 'Thu', 'Fr', 'Sat', 'Sun'];\n    this.monthName = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December'];\n    this.dateNow = Date.now();\n    this.currentDate = new Date(this.dateNow);\n    this.LocalTimeFormat = this.currentDate.toLocaleDateString().split('.');\n    this.currentDay = parseInt(this.LocalTimeFormat[0]);\n    this.currentMonth = parseInt(this.LocalTimeFormat[1]);\n    this.currentYear = parseInt(this.LocalTimeFormat[2]);\n    this.firstDay = null;\n    this.weekDay = null;\n    this.one = 1; // support\n  }\n\n  _createClass(Calendar, [{\n    key: \"parseCalendarData\",\n    value: function parseCalendarData() {\n      var changeYear = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      var changeMonth = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 0;\n      var target = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n      if (this.currentMonth === 1) {\n        this.currentYear = target === 'prewMonth' ? this.currentYear + changeMonth : this.currentYear;\n        this.currentMonth = target === 'prewMonth' ? 12 : this.currentMonth + changeMonth;\n        (target === 'prew' || target === 'next') && (this.currentYear = this.currentYear + changeYear);\n      } else if (this.currentMonth === 12) {\n        this.currentYear = target === 'prewMonth' ? this.currentYear : target != 'nextMonth' ? this.currentYear = this.currentYear : this.currentYear + changeMonth;\n        this.currentMonth = target === 'prewMonth' ? this.currentMonth + changeMonth : target === 'nextMonth' ? this.one : this.currentMonth;\n        (target === 'prew' || target === 'next') && (this.currentYear = this.currentYear + changeYear);\n      } else {\n        this.currentYear = this.currentYear + changeYear;\n        this.currentMonth = this.currentMonth + changeMonth;\n      }\n\n      this.firstDay = new Date(this.currentYear, this.currentMonth);\n      this.weekDay = this.firstDay.getDay();\n      this.totalDay = new Date(this.currentYear, this.currentMonth, 0).getDate();\n    }\n  }]);\n\n  return Calendar;\n}();","\"use strict\";\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar View = function View(_ref) {\n  var appID = _ref.appID,\n      title = _ref.title;\n\n  _classCallCheck(this, View);\n\n  this.ID = appID;\n  this.title = title;\n};\n\nvar Todo =\n/*#__PURE__*/\nfunction (_View) {\n  _inherits(Todo, _View);\n\n  function Todo(settingsTodo) {\n    var _this;\n\n    _classCallCheck(this, Todo);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Todo).call(this, settingsTodo));\n    _this.arrayJSON = [];\n    return _this;\n  }\n\n  _createClass(Todo, [{\n    key: \"spinnerShow\",\n    value: function spinnerShow() {\n      var modal = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n      var load = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : document.createElement('image');\n      var weatherBox = document.querySelector('.weather-box');\n\n      if (!weatherBox) {\n        weatherBox = document.createElement('div');\n        weatherBox.classList.add('weather-box');\n      }\n\n      ;\n      load.classList.add('center');\n      modal.appendChild(weatherBox);\n      weatherBox.appendChild(load);\n    }\n  }, {\n    key: \"build\",\n    value: function build(time) {\n      var wrapper = document.createElement('div');\n      wrapper.classList.add('wrapper');\n      var footer = document.createElement('div');\n      footer.classList.add('footer');\n      var section = document.createElement('div');\n      section.classList.add('section');\n      var sortWrapper = document.createElement('div');\n      sortWrapper.classList.add('sortWrapper');\n      var selectCalendar = document.createElement('input');\n      selectCalendar.setAttribute('type', 'button');\n      selectCalendar.classList.add('selectCalendar');\n      selectCalendar.value = 'select date';\n      var sortBtnBefore = document.createElement('input');\n      sortBtnBefore.setAttribute('type', 'button');\n      sortBtnBefore.classList.add('sort');\n      sortBtnBefore.classList.add('sortBefore');\n      sortBtnBefore.value = 'past';\n      var sortBtnCurrent = document.createElement('input');\n      sortBtnCurrent.setAttribute('type', 'button');\n      sortBtnCurrent.classList.add('sort');\n      sortBtnCurrent.classList.add('sortCurrent');\n      sortBtnCurrent.value = 'current';\n      var sortBtnAfter = document.createElement('input');\n      sortBtnAfter.setAttribute('type', 'button');\n      sortBtnAfter.classList.add('sort');\n      sortBtnAfter.classList.add('sortAfter');\n      sortBtnAfter.value = 'future';\n      var sortBtnAll = document.createElement('input');\n      sortBtnAll.setAttribute('type', 'button');\n      sortBtnAll.classList.add('sort');\n      sortBtnAll.classList.add('sortAll');\n      sortBtnAll.value = 'all';\n      var todoList = document.createElement('div');\n      todoList.classList.add('todoList');\n      var titleName = document.createElement('h1');\n      titleName.classList.add('title');\n      titleName.innerHTML = this.title;\n      var todoControllers = document.createElement('div');\n      todoControllers.classList.add('controllers');\n      var input = document.createElement('input');\n      input.setAttribute('type', 'text');\n      input.setAttribute('maxlength', '110');\n      input.classList.add('getTodo');\n      input.setAttribute('placeholder', 'What should you do?');\n      var button = document.createElement('input');\n      button.setAttribute('type', 'button');\n      button.classList.add('setTodo');\n      button.setAttribute('value', 'ADD');\n      var datePick = document.createElement('input');\n      datePick.classList.add('date');\n      datePick.setAttribute('disabled', '');\n      datePick.setAttribute('type', 'text');\n      datePick.setAttribute('value', time);\n      footer.appendChild(titleName);\n      todoControllers.appendChild(input);\n      todoControllers.appendChild(selectCalendar);\n      todoControllers.appendChild(datePick);\n      todoControllers.appendChild(button);\n      sortWrapper.appendChild(sortBtnBefore);\n      sortWrapper.appendChild(sortBtnCurrent);\n      sortWrapper.appendChild(sortBtnAfter);\n      sortWrapper.appendChild(sortBtnAll);\n      section.appendChild(sortWrapper);\n      section.appendChild(todoList);\n      wrapper.appendChild(footer);\n      wrapper.appendChild(todoControllers);\n      wrapper.appendChild(section);\n      this.ID.appendChild(wrapper);\n    }\n  }, {\n    key: \"sortTodos\",\n    value: function sortTodos() {\n      var todo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n      var type = arguments.length > 1 ? arguments[1] : undefined;\n      var currentTodos = arguments.length > 2 ? arguments[2] : undefined;\n\n      if (type != 'sortAll') {\n        todo.forEach(function (element) {\n          return element.classList.add('hide');\n        });\n        currentTodos.forEach(function (element) {\n          return element.classList.toggle('hide');\n        });\n        return;\n      }\n\n      if (type === 'sortAll') {\n        todo.forEach(function (element) {\n          return element.classList[1] === 'hide' && element.classList.toggle('hide');\n        });\n      }\n    }\n  }, {\n    key: \"showNewTodo\",\n    value: function showNewTodo() {\n      var value = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n      var mainList = document.querySelector('.todoList');\n      var oldTodo = document.querySelectorAll('p');\n      var NOW = Date.now();\n      var todoList = null;\n      oldTodo.length && oldTodo.forEach(function (element) {\n        return element.remove();\n      });\n\n      for (var i = 0; i < value.length; i++) {\n        if (value[i].save) {\n          todoList = document.createElement('p');\n          todoList.setAttribute('draggable', 'true');\n          this.arrayJSON = JSON.parse(localStorage.date);\n          todoList.dataset.date = this.arrayJSON[i];\n          var dateNow = JSON.parse(localStorage.date)[i].split('.').reverse();\n          dateNow[1] = dateNow[1] - 1;\n          var todoDay = new Date(dateNow[0], dateNow[1], dateNow[2]).getTime();\n          var today = new Date(NOW).toLocaleDateString();\n\n          if (todoList.dataset.date === today) {\n            todoList.classList.add('today');\n          } else if (todoDay < NOW) {\n            todoList.classList.add('unactive');\n          } else if (todoDay > NOW) {\n            todoList.classList.add('future');\n          }\n\n          todoList.dataset.unique = value[i].uniqueId;\n          todoList.innerHTML = value[i].value;\n          mainList.appendChild(todoList);\n        }\n      }\n\n      localStorage.removeItem('newTime');\n      localStorage.removeItem('newTodo');\n    }\n  }, {\n    key: \"showModal\",\n    value: function showModal() {\n      var _this2 = this;\n\n      var jsonObject = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'click for add note';\n      var num = jsonObject.findIndex(function (element) {\n        return element.uniqueId === _this2.dataset.unique;\n      });\n      var getList = document.getElementById('todo');\n      var modalBg = document.createElement('div');\n      modalBg.classList.add('background-modal');\n      modalBg.classList.add('animateOpen');\n      var modal = document.createElement('div');\n      modal.classList.add('modal-window');\n      modal.classList.add('animateOpen');\n      modal.dataset.modalNum = this.dataset.unique;\n      var closeBtn = document.createElement('input');\n      closeBtn.setAttribute('type', 'button');\n      closeBtn.setAttribute('value', 'X');\n      closeBtn.classList.add('close');\n      var deleteBtn = document.createElement('input');\n      deleteBtn.setAttribute('type', 'button');\n      deleteBtn.setAttribute('value', 'Delete todo');\n      deleteBtn.classList.add('delete');\n      var noteZone = document.createElement('div');\n      noteZone.classList.add('textArea');\n      var currentTodo = document.createElement('p');\n      currentTodo.classList.add('currentTodo');\n      currentTodo.innerHTML = this.innerHTML;\n      var additionalNotesTitle = document.createElement('p');\n      additionalNotesTitle.classList.add('addNotes__title');\n      additionalNotesTitle.innerHTML = 'additional notes';\n      var edditableWrapper = document.createElement('div');\n      edditableWrapper.classList.add('editWrapper');\n      var additionalNotes = document.createElement('p');\n      additionalNotes.classList.add('addNotes');\n      additionalNotes.innerHTML = jsonObject[num].note;\n      var weatherList = document.createElement('ul');\n      weatherList.classList.add('weatherList');\n      var showTodoDate = document.createElement('p');\n      showTodoDate.classList.add('modal-date');\n      showTodoDate.innerHTML = this.dataset.date;\n      modal.appendChild(closeBtn);\n      modal.appendChild(showTodoDate);\n      modal.appendChild(deleteBtn);\n      noteZone.appendChild(currentTodo);\n      edditableWrapper.appendChild(additionalNotesTitle);\n      edditableWrapper.appendChild(additionalNotes);\n      noteZone.appendChild(edditableWrapper);\n      modal.appendChild(noteZone);\n      modal.appendChild(weatherList);\n      modalBg.appendChild(modal);\n      getList.appendChild(modalBg);\n      return document.querySelector('[data-modal-num]');\n    }\n  }, {\n    key: \"showWarning\",\n    value: function showWarning(ctx) {\n      var modal = document.createElement('div');\n      modal.classList.add('warning');\n      var question = document.createElement('p');\n      question.classList.add('question');\n      question.innerHTML = 'Save changes?';\n      var save = document.createElement('input');\n      save.setAttribute('type', 'button');\n      save.classList.add('save');\n      save.value = 'save';\n      var cancel = document.createElement('input');\n      cancel.setAttribute('type', 'button');\n      cancel.classList.add('cancel');\n      cancel.value = 'cancel';\n      modal.appendChild(question);\n      modal.appendChild(save);\n      modal.appendChild(cancel);\n      ctx.appendChild(modal);\n    }\n  }, {\n    key: \"buildCalendar\",\n    value: function buildCalendar() {\n      var dateObject = arguments.length <= 0 ? undefined : arguments[0];\n      var EmptyCount = 0;\n      var monthName = dateObject.monthName[dateObject.currentMonth - 1];\n      var clearCalendar = document.querySelector('.calendar');\n      if (clearCalendar) clearCalendar.remove();\n      var calendarWrapper = document.querySelector('calendar') ? document.querySelector('calendar') : document.createElement('div');\n      calendarWrapper.classList.add('calendar');\n      var zeroMonth = dateObject.currentMonth < 10 ? '0' : '';\n      var zeroDay = dateObject.currentDay < 10 ? '0' : '';\n      calendarWrapper.dataset.current = \"\".concat(zeroDay + dateObject.currentDay, \".\").concat(zeroMonth + dateObject.currentMonth, \".\").concat(dateObject.currentYear);\n      var wrapperSpan = document.createElement('div');\n      wrapperSpan.classList.add('calendarControlBtns');\n      var spanPrew = document.createElement('input');\n      spanPrew.setAttribute('type', 'button');\n      spanPrew.dataset.move = 'prew';\n      spanPrew.value = '<==';\n      var spanNext = document.createElement('input');\n      spanNext.setAttribute('type', 'button');\n      spanNext.dataset.move = 'next';\n      spanNext.value = '==>';\n      var spanMonthPrew = document.createElement('input');\n      spanMonthPrew.setAttribute('type', 'button');\n      spanMonthPrew.dataset.move = 'prewMonth';\n      spanMonthPrew.value = '<=';\n      var spanMonthNext = document.createElement('input');\n      spanMonthNext.setAttribute('type', 'button');\n      spanMonthNext.dataset.move = 'nextMonth';\n      spanMonthNext.value = '=>';\n      var calendarName = document.createElement('h3');\n      calendarName.classList.add('calendarDate');\n      calendarName.innerHTML = monthName + ' ' + dateObject.currentYear;\n      var ulCalendar = document.createElement('ul');\n      ulCalendar.classList.add('calendarList');\n      var calendarController = document.createElement('div');\n      calendarController.classList.add('calendarController');\n      var controllers = document.querySelector('.controllers');\n\n      for (var i = 0; i < dateObject.dateWeek.length; i++) {\n        var dayWeek = document.createElement('li');\n        dayWeek.dataset.week = dateObject.dateWeek[i];\n        dayWeek.innerHTML = dateObject.dateWeek[i];\n        ulCalendar.appendChild(dayWeek);\n      }\n\n      for (var _i = 1, j = 1; j <= dateObject.totalDay; _i++) {\n        if (!dateObject.weekDay && !EmptyCount) {\n          for (var _i2 = 0; _i2 < dateObject.dateWeek.length - 1; _i2++) {\n            var dempty = document.createElement('li');\n            dempty.classList.add('empty');\n            ulCalendar.appendChild(dempty);\n          }\n\n          EmptyCount++;\n        }\n\n        if (dateObject.weekDay <= _i) {\n          var day = document.createElement('li');\n          dateObject.currentDay === j && dateObject.todayYear === dateObject.currentYear && dateObject.currentMonth === dateObject.todayMonth + 1 && day.classList.add('today');\n          day.dataset.day = j;\n          day.innerHTML = j;\n          ulCalendar.appendChild(day);\n          j++;\n        } else {\n          var _dempty = document.createElement('li');\n\n          _dempty.classList.add('empty');\n\n          ulCalendar.appendChild(_dempty);\n        }\n      }\n\n      wrapperSpan.appendChild(spanPrew);\n      wrapperSpan.appendChild(spanMonthPrew);\n      wrapperSpan.appendChild(spanMonthNext);\n      wrapperSpan.appendChild(spanNext);\n      calendarController.appendChild(calendarName);\n      calendarController.appendChild(wrapperSpan);\n      calendarWrapper.appendChild(calendarController);\n      calendarWrapper.appendChild(ulCalendar);\n      controllers.appendChild(calendarWrapper);\n    }\n  }, {\n    key: \"createEditInput\",\n    value: function createEditInput() {\n      var addNotes = document.querySelector('.addNotes');\n      var textArea = document.querySelector('.textArea');\n      var edditableWrapper = document.querySelector('.editWrapper');\n      var inputEdit = document.createElement('textarea');\n      var buttonEdit = document.createElement('input');\n      addNotes.classList.add('visibility');\n      inputEdit.setAttribute('maxLength', '100');\n      inputEdit.classList.add('edditable');\n      inputEdit.value = addNotes.innerHTML;\n      buttonEdit.setAttribute('type', 'button');\n      buttonEdit.classList.add('editButton');\n      buttonEdit.setAttribute('value', 'Edit');\n      edditableWrapper.appendChild(inputEdit);\n      edditableWrapper.appendChild(buttonEdit);\n      textArea.appendChild(edditableWrapper);\n    }\n  }], [{\n    key: \"checkEmpty\",\n    value: function checkEmpty() {\n      var modal = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : document.createElement('div');\n      var weatherLists = document.querySelector('.weatherList');\n      var weatherBox = document.querySelector('.weather-box');\n      var checkP = document.querySelectorAll('.weather');\n\n      if (checkP.length === 0) {\n        var weatherView = document.createElement('p');\n        weatherView.classList.add('weather');\n        weatherView.classList.add('weatherNone');\n        weatherView.innerHTML = \"Weather not found\";\n        weatherLists.remove();\n        weatherBox.remove();\n        modal.appendChild(weatherView);\n      }\n    }\n  }, {\n    key: \"spinnerHide\",\n    value: function spinnerHide() {\n      var spinner = document.querySelector('.weather-box');\n      spinner && spinner.remove();\n    }\n  }]);\n\n  return Todo;\n}(View);","\"use strict\";\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nvar TodoControl =\n/*#__PURE__*/\nfunction () {\n  function TodoControl(_ref) {\n    var controllerEnter = _ref.controllerEnter,\n        btn = _ref.btn;\n\n    _classCallCheck(this, TodoControl);\n\n    this.btnEnter = controllerEnter;\n    this.btnAdd = btn;\n  }\n\n  _createClass(TodoControl, [{\n    key: \"mainController\",\n    value: function mainController(todoView, todoState, load, datePicker, store, target) {\n      var todos = document.querySelectorAll('[data-unique]');\n      var modalWindow = target.parentNode.parentNode;\n      var currentTodos = null;\n      var modal = null;\n      target.classList[0] === 'selectCalendar' && todoView.buildCalendar(datePicker);\n\n      if (target.dataset.move) {\n        if (target.dataset.move === 'prew') {\n          datePicker.parseCalendarData(-1, null, target.dataset.move);\n          todoView.buildCalendar(datePicker);\n        }\n\n        if (target.dataset.move === 'next') {\n          datePicker.parseCalendarData(+1, null, target.dataset.move);\n          todoView.buildCalendar(datePicker);\n        }\n\n        if (target.dataset.move === 'prewMonth') {\n          datePicker.parseCalendarData(null, -1, target.dataset.move);\n          todoView.buildCalendar(datePicker);\n        }\n\n        if (target.dataset.move === 'nextMonth') {\n          datePicker.parseCalendarData(null, +1, target.dataset.move);\n          todoView.buildCalendar(datePicker);\n        }\n      }\n\n      if (target.dataset.day) {\n        var timerDeleteCalendar = null;\n        var days = document.querySelectorAll('[data-day]');\n        var dateInput = document.querySelector('.date');\n        var date = modalWindow.dataset.current.split('.');\n        date[0] = target.dataset.day;\n        days.forEach(function (element) {\n          element.classList[0] === 'selectDay' && element.classList.toggle('selectDay');\n        });\n        target.classList.add('selectDay');\n        var zeroDay = date[0] < 10 ? '0' : '';\n        date[0] = (zeroDay + date[0]).trim();\n        dateInput.value = date.reverse().join().replace(/\\,/g, '-');\n        timerDeleteCalendar = setTimeout(function () {\n          return modalWindow.remove();\n        }, 300);\n      }\n\n      target.classList[1] === 'sortAfter' && (currentTodos = document.querySelectorAll('.future'));\n      target.classList[1] === 'sortBefore' && (currentTodos = document.querySelectorAll('.unactive'));\n      target.classList[1] === 'sortCurrent' && (currentTodos = document.querySelectorAll('.today'));\n      target.classList[0] === 'sort' && todoView.sortTodos(todos, target.classList[1], currentTodos);\n\n      if (target.classList[0] === 'setTodo' && this.btnEnter.value) {\n        store.localeStorageUpdate(this.btnEnter.value);\n        store.dataParser(target);\n        todoView.showNewTodo(JSON.parse(localStorage.list));\n        this.btnEnter.value = '';\n      }\n\n      if (target.dataset.unique) {\n        var jsonObject = null;\n        localStorage.list && (jsonObject = JSON.parse(localStorage.list));\n        modal = todoView.showModal.call(target, jsonObject);\n        todoView.spinnerShow(modal, load.image[0]);\n        todoState.getWeather(target, document.querySelector('.weatherList'), modal);\n        todoState.setState('main', false);\n        todoState.setState('modal', true);\n      }\n    }\n  }, {\n    key: \"modalController\",\n    value: function modalController(todoView, todoState, store, target) {\n      var modal = document.querySelector('[data-modal-num]');\n      var notes = document.querySelector('.addNotes');\n      var timer = null;\n      var parent = target.parentNode;\n      var item = JSON.parse(localStorage.list);\n      var index = item.findIndex(function (item) {\n        return modal.dataset.modalNum === item.uniqueId;\n      });\n\n      if (target.classList[0] === 'addNotes') {\n        todoView.createEditInput();\n        item[index].changeNote = true;\n        localStorage.list = JSON.stringify(item);\n      }\n\n      if (target.classList[0] === 'editButton') {\n        notes.innerHTML = target.previousSibling.value;\n        item[index].note = target.previousSibling.value;\n        localStorage.list = JSON.stringify(item);\n        notes.classList.toggle('visibility');\n        target.previousSibling.remove();\n        target.remove();\n      }\n\n      if (target.classList[0] === 'close' || target.classList[0] === 'background-modal') {\n        modal = modal.parentNode;\n\n        if (item[index].changeNote) {\n          todoView.showWarning(modal);\n        } else {\n          todoState.setState('main', true);\n          todoState.setState('modal', false);\n          modal.classList.toggle('animateOpen');\n          modal.classList.add('animateHide');\n          timer = setTimeout(function () {\n            modal.style.display = 'none';\n            modal.remove();\n          }, 400);\n        }\n      }\n\n      if (target.classList[0] === 'save') {\n        todoState.setState('main', true);\n        todoState.setState('modal', false);\n        target.parentNode.remove();\n        modal.classList.toggle('animateOpen');\n        modal.classList.add('animateHide');\n        item.forEach(function (item) {\n          return item.changeNote && (item.changeNote = false);\n        });\n        localStorage.list = JSON.stringify(item);\n        timer = setTimeout(function () {\n          modal.style.display = 'none';\n          modal.parentNode.remove();\n          modal.remove();\n        }, 400);\n      } else if (target.classList[0] === 'cancel') target.parentNode.remove();\n\n      if (target.classList[0] === 'delete') {\n        var todoDelete = document.querySelector(\"[data-unique=\\\"\".concat(parent.dataset.modalNum, \"\\\"]\"));\n        var numDelete = todoDelete.dataset.unique;\n        var splits = JSON.parse(localStorage.list);\n        var date = JSON.parse(localStorage.date);\n        var counter = splits.findIndex(function (element) {\n          return element.uniqueId === numDelete;\n        });\n        date.splice(counter, 1);\n        localStorage.date = JSON.stringify(date);\n        var filter = splits.filter(function (v) {\n          return v.uniqueId === numDelete;\n        });\n        store.updateStorage(JSON.parse(localStorage.list), filter[0].uniqueId);\n        todoDelete.remove();\n        /* Switch state */\n\n        todoState.setState('main', true);\n        todoState.setState('modal', false);\n        modalWindow.remove();\n      }\n\n      var todos = document.querySelectorAll('[data-date]');\n      todos.forEach(function (element, i) {\n        return element.dataset.num = i;\n      });\n    }\n  }, {\n    key: \"setLsitener\",\n    value: function setLsitener(todoView, todoState, load, datePicker, store) {\n      var _this = this;\n\n      var draggableZone = document.querySelector('.todoList');\n      /* Main states and modal todo controllers */\n\n      var clickEvent = function clickEvent(e) {\n        var target = e.target;\n        todoState.getState('main') && _this.mainController(todoView, todoState, load, datePicker, store, target);\n        todoState.getState('modal') && _this.modalController(todoView, todoState, store, target);\n      };\n      /* -----------Modernizr----------- */\n\n\n      console.log('touchevents detected:' + Modernizr.touchevents);\n      Modernizr.touchevents && document.addEventListener('touchend', clickEvent, false);\n      !Modernizr.touchevents && document.addEventListener('click', clickEvent, false);\n      /* disabled date input */\n\n      document.addEventListener('keydown', function (e) {\n        e.target.classList[0] === 'date' && e.preventDefault();\n      }, false);\n      /* -----------DnD----------- */\n\n      var drag = null;\n      document.addEventListener('dragstart', function (e) {\n        drag = e.target;\n      });\n      draggableZone.addEventListener('dragover', function (e) {\n        e.preventDefault();\n        var target = e.target;\n        var bounding = target.getBoundingClientRect();\n        var offset = bounding.y + bounding.height / 2;\n\n        if (target.classList[0] != 'todoList') {\n          if (e.clientY - offset > 0) {\n            target.style['border-bottom'] = 'solid 4px red';\n            target.style['border-top'] = '';\n          }\n        }\n      });\n      draggableZone.addEventListener('dragleave', function (e) {\n        e.preventDefault();\n        e.target.style['border-bottom'] = '';\n        e.target.style['border-top'] = '';\n      });\n      draggableZone.addEventListener('drop', function (e) {\n        var target = e.target;\n        var swapeDate = JSON.parse(localStorage.date);\n        var swapeList = JSON.parse(localStorage.list);\n\n        if (target.style['border-bottom'] !== '') {\n          target.style['border-bottom'] = '';\n          var dragID = drag.dataset.unique;\n          var targetID = target.dataset.unique;\n          var targetNum = swapeList.findIndex(function (element) {\n            return element.uniqueId === targetID;\n          });\n          var dragNum = swapeList.findIndex(function (element) {\n            return element.uniqueId === dragID;\n          });\n\n          if (dragNum < targetNum) {\n            swapeDate.splice(targetNum, 0, swapeDate.splice(targetNum, 1, swapeDate[dragNum])[0]);\n            swapeDate.splice(dragNum, 1);\n            swapeList.splice(targetNum, 0, swapeList.splice(targetNum, 1, swapeList[dragNum])[0]);\n            swapeList.splice(dragNum, 1);\n            this.insertBefore(drag, target.nextSibling);\n          } else {\n            swapeDate.splice(targetNum, 0, swapeDate.splice(targetNum, 1, swapeDate[dragNum])[0]);\n            swapeDate.splice(dragNum + 1, 1);\n            swapeList.splice(targetNum, 0, swapeList.splice(targetNum, 1, swapeList[dragNum])[0]);\n            swapeList.splice(dragNum + 1, 1);\n            this.insertBefore(drag, target.nextSibling);\n          }\n\n          var todos = document.querySelectorAll('[data-date]');\n          todos.forEach(function (element, i) {\n            return element.dataset.num = i;\n          });\n          localStorage.date = JSON.stringify(swapeDate);\n          localStorage.list = JSON.stringify(swapeList);\n        } else target.style['border-top'] = '';\n      });\n      /* ----on window load---- */\n\n      window.addEventListener('DOMContentLoaded', function () {\n        if (!localStorage.list) return;\n        var item = JSON.parse(localStorage.list);\n        item.forEach(function (item) {\n          return item.changeNote && (item.changeNote = false);\n        });\n        localStorage.list = JSON.stringify(item);\n        todoView.showNewTodo(item);\n      }, false);\n    }\n  }]);\n\n  return TodoControl;\n}();","\"use strict\";\n\nvar todoApp = function () {\n  function main() {\n    var settingsTodo = {\n      appID: document.getElementById('todo'),\n      title: 'Todo-list'\n    };\n    var load = new Loader();\n    var time = new Date().toLocaleDateString().split('.').reverse().join().replace(/\\,/g, '-');\n    load.loading('image', '../img/spinner.gif', 'smallSpinner');\n    var todoState = new ListModal();\n    var store = new Storage();\n    todoState.getCoords();\n    todoState.setState('main', true);\n    var todoView = new Todo(settingsTodo);\n    todoView.build(time);\n    var datePicker = new Calendar();\n    datePicker.parseCalendarData();\n    var controllerSettings = {\n      controllerEnter: document.querySelector('.getTodo'),\n      btn: document.querySelector('.setTodo')\n    };\n    var controller = new TodoControl(controllerSettings);\n    controller.setLsitener(todoView, todoState, load, datePicker, store);\n  }\n\n  return {\n    init: main\n  };\n}();\n\ntodoApp.init();"]}